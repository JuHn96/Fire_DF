<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ì „ì²´ ì•„í‚¤í…ì²˜ PNG ì„¤ëª…</title>
  <style>
    /* 2-C ê³µí†µ ìŠ¤íƒ€ì¼ */

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
      line-height: 1.7;
      margin: 0;
      padding: 32px 16px;
      color: #1f2937;
      background-color: #e5e7eb;
    }

    .page {
      max-width: 960px;
      margin: 0 auto;
      background-color: #ffffff;
      border-radius: 16px;
      padding: 28px 32px 32px;
      box-shadow: 0 10px 30px rgba(15, 23, 42, 0.12);
      border: 1px solid #e5e7eb;
    }

    h1, h2, h3 {
      margin-top: 0;
      color: #111827;
    }

    h1 {
      font-size: 30px;
      font-weight: 800;
      margin: 0 0 14px 0;
      letter-spacing: -0.03em;
      line-height: 1.3;
    }

    h2 {
      font-size: 22px;
      font-weight: 700;
      margin-bottom: 10px;
    }

    h3 {
      font-size: 18px;
      font-weight: 600;
      margin-top: 14px;
      margin-bottom: 8px;
    }

    .page-header {
      border-bottom: 1px solid #e5e7eb;
      padding-bottom: 12px;
      margin-bottom: 20px;
    }

    .section {
      position: relative;
      background: linear-gradient(to right, #ffffff, #fafafa);
      padding: 16px 20px 16px 28px;
      border-radius: 12px;
      margin-bottom: 22px;
      border: 1px solid #e5e7eb;
      box-shadow: 0 1px 2px rgba(15, 23, 42, 0.06);
    }

    .section::before {
      content: "";
      position: absolute;
      left: 10px;
      top: 16px;
      bottom: 16px;
      width: 4px;
      border-radius: 999px;
      background: linear-gradient(to bottom, #e0f2fe, #bfdbfe, #818cf8);
    }

    p {
      margin-top: 4px;
      margin-bottom: 8px;
      font-size: 14px;
    }

    ul, ol {
      margin-top: 6px;
      margin-bottom: 6px;
      padding-left: 20px;
    }

    li {
      margin-bottom: 4px;
      font-size: 14px;
    }

    /* ì½”ë“œ / ì¶œë ¥ ì˜ˆì‹œ ê³µí†µ ìŠ¤íƒ€ì¼ */

    pre {
      margin: 10px 0 12px;
      padding: 12px 14px;
      background-color: #020617;
      color: #e5e7eb;
      border-radius: 8px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 13px;
      line-height: 1.6;
      overflow-x: auto;
      border: 1px solid #111827;
      white-space: pre;
    }

    /* ğŸ”¥ pre ì•ˆìª½ codeëŠ” ìº¡ìŠ ë°°ê²½ ì œê±° */
    pre code {
      font-family: inherit;
      white-space: inherit;
      background: transparent !important;
      padding: 0 !important;
      border-radius: 0 !important;
    }

    code {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 13px;
      background-color: #f3f4f6;
      padding: 1px 4px;
      border-radius: 4px;
    }

    @media (max-width: 640px) {
      .page {
        padding: 20px 16px 22px;
        border-radius: 12px;
      }
      h1 { font-size: 24px; }
      h2 { font-size: 19px; }
    }
  </style>
</head>
<body>
  <div class="page">

    <header class="page-header">
      <h1>ì „ì²´ ì•„í‚¤í…ì²˜ PNG ì„¤ëª…</h1>
      <p>
        ì´ ë¬¸ì„œëŠ” ë‚˜ì¤‘ì— ì‹¤ì œ PNG ë‹¤ì´ì–´ê·¸ë¨ì„ ì œì‘í•˜ê¸° ìœ„í•œ
        <strong>ì •í™•í•œ êµ¬ì„± ìš”ì†Œ + ì—°ê²° ê´€ê³„</strong>ë¥¼ ì •ì˜í•˜ëŠ” ì„¤ëª…ì…ë‹ˆë‹¤.
        ì´ ì„¤ëª…ì„ ê¸°ë°˜ìœ¼ë¡œ Figma / PPT / PNG ì–´ë–¤ ë°©ì‹ìœ¼ë¡œë“  ê·¸ë¦¼ì„ ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      </p>
    </header>

    <div class="section">
      <h2>1. ì „ì²´ ì•„í‚¤í…ì²˜ì˜ í° êµ¬ì¡°</h2>
      <p>ì „ì²´ ì‹œìŠ¤í…œì€ <strong>6ê°œì˜ ë ˆì´ì–´(ì¸µ)</strong>ë¡œ êµ¬ì„±ëœë‹¤:</p>
      <ol>
        <li>í˜„ì¥ ë ˆì´ì–´ (CCTV/NVR)</li>
        <li>AI ë¶„ì„ ë ˆì´ì–´</li>
        <li>ë°±ì—”ë“œ API ë ˆì´ì–´</li>
        <li>WebSocket ì‹¤ì‹œê°„ ì•Œë¦¼ ë ˆì´ì–´</li>
        <li>ë°ì´í„° ë ˆì´ì–´(DB + ì´ë¯¸ì§€ ì €ì¥ì†Œ)</li>
        <li>í”„ë¡ íŠ¸ì—”ë“œ(ëŒ€ì‹œë³´ë“œ) + Nginx ë ˆì´ì–´</li>
      </ol>
      <p>ê° ë ˆì´ì–´ëŠ” ì„œë¡œ ë‹¤ìŒê³¼ ê°™ì€ ìˆœì„œëŒ€ë¡œ ë°ì´í„°ë¥¼ ì „ë‹¬í•œë‹¤:</p>
      <p><strong>CCTV â†’ AI â†’ BE(API) â†’ DB / WebSocket â†’ FE â†’ ì‚¬ìš©ì</strong></p>
    </div>

    <div class="section">
      <h2>2. êµ¬ì„± ìš”ì†Œ ìƒì„¸</h2>

      <h3>2-1. í˜„ì¥ ë ˆì´ì–´ (CCTV / NVR)</h3>
      <ul>
        <li>ê¸°ì¡´ ê±´ë¬¼ì— ì„¤ì¹˜ëœ CCTV ì¥ì¹˜</li>
        <li>ê° ì¹´ë©”ë¼ì—ì„œ <strong>RTSP ìŠ¤íŠ¸ë¦¼</strong>ì„ ì œê³µ</li>
        <li>ë³¸ ì‹œìŠ¤í…œì€ ìƒˆ ì¥ë¹„ë¥¼ ì„¤ì¹˜í•˜ì§€ ì•Šê³ , ê¸°ì¡´ ì˜ìƒë§Œ ëŒì–´ì™€ í™œìš©í•¨</li>
      </ul>
      <p>ì¶œë ¥: <code>rtsp://...</code> í˜•íƒœ ìŠ¤íŠ¸ë¦¼ ì£¼ì†Œ</p>
    </div>

    <div class="section">
      <h3>2-2. AI ë¶„ì„ ë ˆì´ì–´ (ai-server)</h3>
      <ul>
        <li>RTSP ìŠ¤íŠ¸ë¦¼ì„ ë°›ì•„ ì˜ìƒ í”„ë ˆì„ ì²˜ë¦¬</li>
        <li>í™”ì¬ ê°ì§€ ëª¨ë¸(YOLO ê¸°ë°˜)ì„ ì ìš©</li>
        <li>ì‹ ë¢°ë„ &amp; ì‹œê°„ ì¡°ê±´ ì¶©ì¡± ì‹œ â€œí™”ì¬ ì´ë²¤íŠ¸â€ ë°œìƒ</li>
        <li>ë°œìƒí•œ ì´ë²¤íŠ¸ë¥¼ <strong>ë°±ì—”ë“œ APIë¡œ POST ì „ì†¡</strong></li>
      </ul>
      <p>ì¶œë ¥ ì˜ˆ:</p>
      <pre><code>{
  "camera_id": "CCTV-001",
  "confidence": 0.87,
  "event_time": "2025-12-12T10:22:21",
  "image_path": "/events/2025-12-12/cctv001_102221.jpg",
  "level": 2
}</code></pre>
    </div>

    <div class="section">
      <h3>2-3. ë°±ì—”ë“œ API ë ˆì´ì–´ (FastAPI)</h3>
      <ul>
        <li>AI ì„œë²„ì—ì„œ ë³´ë‚¸ í™”ì¬ ì´ë²¤íŠ¸ë¥¼ ìˆ˜ì‹ </li>
        <li>ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì ìš©í•˜ì—¬
          <ul>
            <li>ì¤‘ë³µ ì—¬ë¶€</li>
            <li>ë‹¨ê³„(level)</li>
            <li>ìƒíƒœ(ë°œìƒ/í•´ì œ)</li>
          </ul>
          ë¥¼ íŒë‹¨
        </li>
        <li>MySQLì— ì´ë²¤íŠ¸ ë¡œê·¸ ì €ì¥</li>
        <li>ì¹´ì¹´ì˜¤ ë°œì†¡ ì—¬ë¶€ ê²°ì • í›„ ì¹´ì¹´ì˜¤ ëª¨ë“ˆ í˜¸ì¶œ</li>
      </ul>
      <p>í•µì‹¬ API:</p>
      <ul>
        <li><code>POST /internal/events/fire</code></li>
        <li><code>GET /api/events</code></li>
        <li><code>GET /api/cctvs</code></li>
        <li><code>POST /api/kakao/send</code></li>
      </ul>
    </div>

    <div class="section">
      <h3>2-4. WebSocket ì‹¤ì‹œê°„ ì•Œë¦¼ ë ˆì´ì–´</h3>
      <p>ë°±ì—”ë“œì™€ ë¶„ë¦¬ëœ <strong>ì‹¤ì‹œê°„ ì „ì†¡ ì „ìš© ì„œë²„</strong> ë˜ëŠ” ë°±ì—”ë“œ ë‚´ë¶€ì—ì„œ <code>/ws</code> ì—”ë“œí¬ì¸íŠ¸ë¡œ ìš´ì˜.</p>
      <p>ì—­í• :</p>
      <ul>
        <li>ìƒˆ í™”ì¬ ì´ë²¤íŠ¸ ë°œìƒ ì‹œ FEì— ì¦‰ì‹œ PUSH</li>
        <li>ë‹¨ê³„ ë³€ê²½(level up) ì‹œ ì•Œë¦¼ ì „ì†¡</li>
        <li>ì´ë²¤íŠ¸ í•´ì œ ì‹œ ëŒ€ì‹œë³´ë“œì—ì„œ í•´ë‹¹ ì¹´ë“œ ìƒíƒœ ì—…ë°ì´íŠ¸</li>
      </ul>
      <p>WebSocket ë©”ì‹œì§€ ì˜ˆ:</p>
      <pre><code>{
  "type": "fire_event",
  "camera_id": "CCTV-001",
  "level": 2,
  "status": "active"
}</code></pre>
    </div>

    <div class="section">
      <h3>2-5. ë°ì´í„° ë ˆì´ì–´ (MySQL + ì´ë¯¸ì§€ ì €ì¥ì†Œ)</h3>
      <p><strong>MySQL DB</strong></p>
      <ul>
        <li>CCTV ì •ë³´</li>
        <li>ì´ë²¤íŠ¸ ë¡œê·¸</li>
        <li>ì¹´ì¹´ì˜¤ ë°œì†¡ ê²°ê³¼</li>
        <li>í…œí”Œë¦¿ ì„¤ì •</li>
      </ul>

      <p><strong>ì´ë¯¸ì§€ ì €ì¥ì†Œ</strong></p>
      <ul>
        <li>AIê°€ ìº¡ì²˜Â·ë¶„ì„í•œ í™”ì¬ ì´ë¯¸ì§€ ì €ì¥</li>
        <li>DBì—ëŠ” ì´ë¯¸ì§€ URL/ê²½ë¡œë§Œ ì €ì¥</li>
      </ul>

      <p>êµ¬ì¡°:</p>
      <pre><code>DB
 â”œâ”€ cctv
 â”œâ”€ events
 â”œâ”€ kakao_logs
 â””â”€ templates

Storage
 â””â”€ /events/2025-12-12/...jpg</code></pre>
    </div>

    <div class="section">
      <h3>2-6. í”„ë¡ íŠ¸ì—”ë“œ + Nginx ë ˆì´ì–´</h3>
      <p><strong>Vue ê¸°ë°˜ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</strong></p>
      <ul>
        <li>ë©”ì¸ ëŒ€ì‹œë³´ë“œ</li>
        <li>ì„œë¸Œ ëŒ€ì‹œë³´ë“œ</li>
        <li>ë¡œê·¸ &amp; í†µê³„</li>
        <li>CCTV ê´€ë¦¬</li>
        <li>ë§ˆì´í˜ì´ì§€</li>
      </ul>

      <p><strong>Nginx ì—­í• </strong></p>
      <ol>
        <li>Vue ì •ì  íŒŒì¼ ì œê³µ(<code>/</code>)</li>
        <li><code>/api</code> ìš”ì²­ì€ ë°±ì—”ë“œë¡œ Reverse Proxy</li>
        <li><code>/ws</code> ìš”ì²­ì€ WebSocket ì„œë²„ë¡œ Proxy</li>
        <li>ìš´ì˜ í™˜ê²½ì—ì„œëŠ” HTTPS ì ìš© ìœ„ì¹˜</li>
      </ol>
    </div>

    <div class="section">
      <h2>3. ë ˆì´ì–´ ê°„ ë°ì´í„° íë¦„(Flow)</h2>

      <h3>1) CCTV â†’ AI</h3>
      <ul>
        <li>RTSP ìŠ¤íŠ¸ë¦¼ ì „ë‹¬</li>
      </ul>

      <h3>2) AI â†’ ë°±ì—”ë“œ API</h3>
      <ul>
        <li>ì´ë²¤íŠ¸ ë°œìƒ ì‹œ POST ì „ì†¡</li>
        <li>ì´ë¯¸ì§€ íŒŒì¼ ìƒì„± í›„ ê²½ë¡œ ì „ë‹¬</li>
      </ul>

      <h3>3) ë°±ì—”ë“œ API â†’ DB</h3>
      <ul>
        <li>ì´ë²¤íŠ¸ ë¡œê·¸ ì €ì¥</li>
        <li>ë‹¨ê³„/ìƒíƒœ ì—…ë°ì´íŠ¸</li>
      </ul>

      <h3>4) ë°±ì—”ë“œ API â†’ ì¹´ì¹´ì˜¤</h3>
      <ul>
        <li>ë°œì†¡ ì¡°ê±´ ì¶©ì¡± ì‹œ í…œí”Œë¦¿ ë°”ì¸ë”© í›„ ì „ì†¡</li>
      </ul>

      <h3>5) ë°±ì—”ë“œ API â†’ WebSocket</h3>
      <ul>
        <li>ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ ì—…ë°ì´íŠ¸ ìœ„í•œ ì•Œë¦¼ Push</li>
      </ul>

      <h3>6) WebSocket â†’ í”„ë¡ íŠ¸ì—”ë“œ</h3>
      <ul>
        <li>UI ì¦‰ì‹œ ë°˜ì˜ (ì¹´ë“œ ë¹¨ê°„ìƒ‰ ì ë©¸ ë“±)</li>
      </ul>

      <h3>7) ì‚¬ìš©ì</h3>
      <ul>
        <li>ëŒ€ì‹œë³´ë“œì—ì„œ ì‹¤ì‹œê°„ ê°ì§€ í™•ì¸</li>
        <li>ì¹´ì¹´ì˜¤í†¡ ì•Œë¦¼ ìˆ˜ì‹ </li>
      </ul>
    </div>

    <div class="section">
      <h2>4. ì‹¤ì œ PNGì—ì„œ í‘œí˜„ë  êµ¬ì„±(ìš”ì•½)</h2>
      <p>PNGëŠ” ì•„ë˜ í˜•íƒœì˜ êµ¬ì¡°ë¥¼ ì‹œê°í™”í•˜ê²Œ ë  ê²ƒ:</p>
      <pre><code>[CCTV] â†’ (RTSP)
    â†“
[AI Server]
   | fire_event
   â†“
[Backend API] â†’ [DB]
       |           â†‘
       |           |
       â†’ [WebSocket] â†’ [Frontend(Vue)] â†’ ì‚¬ìš©ì
       â†’ [Kakao API]</code></pre>

      <p>êµ¬ì„± ìš”ì†ŒëŠ” ë‹¤ìŒ ë°•ìŠ¤ë¡œ ì •ë¦¬ë¨:</p>
      <ul>
        <li>CCTV / RTSP</li>
        <li>AI Server</li>
        <li>Backend API</li>
        <li>WebSocket Server</li>
        <li>MySQL DB</li>
        <li>Image Storage</li>
        <li>Nginx + Frontend(Vue)</li>
        <li>Kakao</li>
      </ul>

      <p>ì—°ê²°ì„ ì€:</p>
      <ul>
        <li>RTSP ìŠ¤íŠ¸ë¦¼</li>
        <li>HTTP POST</li>
        <li>DB Connection</li>
        <li>WebSocket</li>
        <li>Reverse Proxy</li>
        <li>Kakao API</li>
      </ul>

      <p>ì´ë ‡ê²Œ í‘œí˜„ë˜ë©´ ê¹”ë”í•œ ì•„í‚¤í…ì²˜ PNGë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.</p>
    </div>

    <div class="section">
      <h2>5. PNG ì œì‘ ì‹œ ê¶Œì¥ ìŠ¤íƒ€ì¼(ì°¸ê³ )</h2>
      <p>(ì´ ë¶€ë¶„ì€ ê·¸ë¦¼ ë§Œë“¤ ë•Œ ì°¸ê³ ë§Œ í•˜ë©´ ë¨)</p>
      <ul>
        <li>ì¹´í…Œê³ ë¦¬ë³„ ë°•ìŠ¤ë¥¼ ìƒ‰ìƒ ë¶„ë¦¬
          <ul>
            <li>AI = ì£¼í™©</li>
            <li>BE = íŒŒë‘</li>
            <li>FE = ì´ˆë¡</li>
            <li>DB = íšŒìƒ‰</li>
          </ul>
        </li>
        <li>ë°ì´í„° íë¦„ì€ â†’ í™”ì‚´í‘œë¡œ ì¼ê´€ë˜ê²Œ</li>
        <li>ë‹¨ë°©í–¥, ì–‘ë°©í–¥ì„ ì„  êµµê¸°/ìƒ‰ìœ¼ë¡œ êµ¬ë¶„</li>
      </ul>

      <p>ì´ë ‡ê²Œ êµ¬ì„±í•˜ë©´ Figma, PPT, PNG ì–´ë””ì—ì„œë“  ë™ì¼í•œ êµ¬ì¡°ë¡œ ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨ì„ ì œì‘í•  ìˆ˜ ìˆë‹¤.</p>
    </div>

  </div>
</body>
</html>
